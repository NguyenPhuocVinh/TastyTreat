(this["webpackJsonpecommerce-website-1"]=this["webpackJsonpecommerce-website-1"]||[]).push([[0],{21:function(e,a,t){e.exports=t.p+"static/media/res-logo.2b82a8a1.png"},25:function(e,a,t){},29:function(e,a,t){e.exports=t.p+"static/media/poster.a11d7af7.jpg"},35:function(e,a,t){},36:function(e,a,t){},37:function(e,a,t){},39:function(e,a,t){e.exports=t.p+"static/media/delivery-guy.93f0216a.png"},40:function(e,a,t){e.exports=t.p+"static/media/poster2.95594d47.jpg"},42:function(e,a,t){e.exports=t.p+"static/media/vnpayrow.31323b26.png"},43:function(e,a,t){e.exports=t.p+"static/media/google-icon.a743629d.webp"},44:function(e,a,t){e.exports=t.p+"static/media/fast.3d089af0.png"},46:function(e,a,t){e.exports=t(92)},51:function(e,a,t){},58:function(e,a,t){},75:function(e,a,t){},80:function(e,a,t){},81:function(e,a,t){},82:function(e,a,t){},83:function(e,a,t){},84:function(e,a,t){},85:function(e,a,t){},86:function(e,a,t){},87:function(e,a,t){},88:function(e,a,t){},91:function(e,a,t){},92:function(e,a,t){"use strict";t.r(a);var n=t(1),c=t.n(n),r=t(16),l=t.n(r),s=t(5),o=t(95),m=t(21),i=t.n(m),u=t(8),d=t(106),p=t(10),E=t.n(p);const h="http://backend-api-service.default.svc.cluster.local";t(51);const g=[{display:"TRANG CH\u1ee6",path:"/home"},{display:"TH\u1ef0C \u0110\u01a0N",path:"/pizzas"},{display:"GI\u1ece H\xc0NG",path:"/cart"},{display:"LI\xcaN H\u1ec6",path:"/contact"}];var N=()=>{const e=Object(n.useRef)(null),a=Object(n.useRef)(null),[t,r]=Object(n.useState)(0);let l=Object(s.p)();const m=E.a.get("accessToken"),p=()=>e.current.classList.toggle("show__menu");Object(n.useEffect)(()=>{(async()=>{try{await(async()=>{try{if(m){const e=await d.a.get("".concat(h,"/cart/get-cart"),{headers:{Authorization:"Bearer ".concat(m)}}),a=e.data.cart.products.reduce((e,a)=>e+a.quantity,0)||0;r(a)}else{const e=sessionStorage.getItem("totalQuantity")||0;r(Number(e))}}catch(e){console.error("Error fetching cart data:",e)}})()}catch(e){console.error("Error fetching cart data:",e)}})();const e=()=>{document.body.scrollTop>80||document.documentElement.scrollTop>80?a.current.classList.add("header__shrink"):a.current.classList.remove("header__shrink")};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[m,l]);return c.a.createElement("header",{className:"header",ref:a},c.a.createElement(o.a,null,c.a.createElement("div",{className:"nav__wrapper d-flex align-items-center justify-content-between"},c.a.createElement("div",{className:"logo",onClick:()=>l("/home")},c.a.createElement("img",{src:i.a,alt:"logo"}),c.a.createElement("h5",null,"Tasty Treat")),c.a.createElement("div",{className:"navigation",ref:e,onClick:p},c.a.createElement("div",{className:"menu d-flex align-items-center gap-5",onClick:e=>e.stopPropagation()},c.a.createElement("div",{className:"header__closeButton"},c.a.createElement("span",{onClick:p},c.a.createElement("i",{className:"ri-close-fill"}))),g.map((e,a)=>c.a.createElement(u.c,{to:e.path,key:a,className:e=>e.isActive?"active__menu":"",onClick:p},e.display)))),c.a.createElement("div",{className:"nav__right d-flex align-items-center gap-4"},c.a.createElement("span",{className:"search__icon"},"Ti\u1ebfng Vi\u1ec7t"),c.a.createElement("span",{className:"user__icon",onClick:()=>{l(m?"/edit-profile":"/login")}},c.a.createElement("i",{className:"ri-account-circle-line"})),c.a.createElement("span",{className:"cart__icon",onClick:()=>{l("/cart")}},c.a.createElement("i",{className:"ri-shopping-basket-line"}),c.a.createElement("span",{className:"cart__badge"},t)),c.a.createElement("span",{className:"mobile__menu",onClick:p},c.a.createElement("i",{className:"ri-menu-line"}))))))},_=t(96);t(58);var b=()=>c.a.createElement(c.a.Fragment,null,c.a.createElement("footer",null),c.a.createElement("footer",{className:"footer"},c.a.createElement("div",{className:"footer__logo"},c.a.createElement("img",{src:i.a,alt:"logo"}),c.a.createElement("h5",null,"Tasty Treat"),c.a.createElement("p",null,"\u0110\u1ecba ch\u1ec9: 17 Tr\u1ea7n Thi\u1ec7n Ch\xe1nh, qu\u1eadn 10, TP.HCM")),c.a.createElement("div",null,c.a.createElement("h5",{className:"footer__title mb-3"},"Delivery Time"),c.a.createElement(_.a,null,c.a.createElement("div",{className:"delivery__time-item border-0 ps-0"},c.a.createElement("span",null,"Friday - Tuesday"),c.a.createElement("p",null,"10:00am - 11:00pm")),c.a.createElement("div",{className:"delivery__time-item border-0 ps-0"},c.a.createElement("span",null,"Wednesday - Thursday"),c.a.createElement("p",null,"Off day"))))));var f=e=>(document.title="Tasty Treat - "+e.title,c.a.createElement("div",{className:"w-100"},e.children)),y=t(97),w=t(98),v=t(38),k=t.n(v),T=t(39),C=t.n(T),I=t(40),O=t.n(I);t(35),t(73),t(74),t(75);var S=()=>{const[e,a]=Object(n.useState)([]);Object(n.useEffect)(()=>{(async()=>{try{const e=await d.a.get("".concat(h,"/category"));a(e.data.categories)}catch(e){console.error("Error fetching categories:",e)}})()},[]);return c.a.createElement("div",{className:"categories__container"},e.length>0?e.map(e=>c.a.createElement("div",{key:e._id,className:"categories-item d-flex flex-column justify-content-between",onClick:()=>{return a=e._id,localStorage.setItem("categoryId",a),void(window.location.href="/category/".concat(a));var a}},c.a.createElement("div",{className:"categories__content"},c.a.createElement("img",{className:"categories__img  w-50",src:e.imagePath,alt:e.categoryName}),c.a.createElement("h5",{className:"category_Name"},c.a.createElement(u.b,{to:"/category/".concat(e._id)},e.categoryName))))):c.a.createElement("div",null,"Loading..."))},x=t(13),j=t(22);const P=(e,a)=>{sessionStorage.setItem(e,JSON.stringify(a))},A=e=>{const a=sessionStorage.getItem(e);return a?JSON.parse(a):null},q=(e,a,t)=>{P("cartItems",e),P("totalAmount",a),P("totalQuantity",t)},V={cartItems:A("cartItems")||[],totalQuantity:A("totalQuantity")||0,totalAmount:A("totalAmount")||0},z=Object(j.b)({name:"cart",initialState:V,reducers:{addItem(e,a){const t=a.payload,n=a.payload._id,c=a.payload.extraIngredients,r=e.cartItems.find(e=>e._id===n);if(r)if(r&&JSON.stringify(r.extraIngredients)===JSON.stringify(c))e.totalQuantity++,r.quantity++;else{const a=e.cartItems.findIndex(e=>e._id===r._id),t={_id:r._id,productName:r.productName,imagePath:r.imagePath,price:r.price,quantity:1,totalPrice:r.price,extraIngredients:c};e.cartItems.splice(a,1,t),e.totalQuantity=e.cartItems.reduce((e,a)=>e+Number(a.quantity),0)}else e.cartItems.push({_id:n,productName:t.productName,imagePath:t.imagePath,price:t.price,quantity:1,totalPrice:t.price,extraIngredients:t.extraIngredients}),e.totalQuantity++;e.totalAmount=e.cartItems.reduce((e,a)=>e+Number(a.price)*Number(a.quantity),0),q(e.cartItems.map(e=>e),e.totalAmount,e.totalQuantity)},removeItem(e,a){const t=a.payload,n=e.cartItems.find(e=>e._id===t);e.totalQuantity--,1===n.quantity?e.cartItems=e.cartItems.filter(e=>e._id!==t):(n.quantity--,n.totalPrice=Number(n.totalPrice)-Number(n.price)),e.totalAmount=e.cartItems.reduce((e,a)=>e+Number(a.price)*Number(a.quantity),0),q(e.cartItems.map(e=>e),e.totalAmount,e.totalQuantity)},deleteItem(e,a){const t=a.payload,n=e.cartItems.find(e=>e._id===t);n&&(e.cartItems=e.cartItems.filter(e=>e._id!==t),e.totalQuantity=e.totalQuantity-n.quantity),e.totalAmount=e.cartItems.reduce((e,a)=>e+Number(a.price)*Number(a.quantity),0),q(e.cartItems.map(e=>e),e.totalAmount,e.totalQuantity)}}}),H=z.actions;var M=z;var F=()=>{const[e,a]=Object(n.useState)([]),t=Object(x.b)(),[r]=Object(n.useState)("");Object(n.useEffect)(()=>{(async()=>{try{const e=await d.a.get("".concat(h,"/product/featured-products")),t=e.data.products.sort(()=>.5-Math.random());a(t.slice(0,4))}catch(e){console.error("Error fetching featured products:",e)}})()},[]);const l=new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}),s=!!sessionStorage.getItem("savedAddresses"),m=s?"addTOCART__btn":"addTOCART__btn disabled",i=s?{}:{cursor:"not-allowed"};return c.a.createElement(o.a,{className:"product-feature"},c.a.createElement(y.a,{className:"product-feature__card"},e.map(e=>c.a.createElement(w.a,{className:"mb-4 mt-4",key:e._id,lg:"3",md:"4",sm:"6",xs:"6"},c.a.createElement("div",null,c.a.createElement("div",{className:"product__item d-flex flex-column justify-content-between"},c.a.createElement("div",{className:"product__content"},c.a.createElement(u.b,{to:"/pizzas/".concat(e._id)},c.a.createElement("img",{className:"product__img w-50",src:e.imagePath,alt:e.productName})),c.a.createElement("h5",null,c.a.createElement(u.b,{to:"/pizzas/".concat(e._id)},e.productName))),c.a.createElement("div",{className:"product__description"},c.a.createElement("span",null,e.productSubtitles)),c.a.createElement("div",{className:"d-flex flex-column align-items-center justify-content-between"},c.a.createElement("span",{className:"product__price mb-2"},l.format(e.price)),c.a.createElement("button",{className:m,style:i,onClick:()=>s?(async e=>{const{_id:a,productName:n,price:c,imagePath:l}=e,s=E.a.get("accessToken");if(sessionStorage.getItem("savedAddresses"))if(s)try{await d.a.post("".concat(h,"/cart/add-to-cart"),{productId:a,quantity:1},{headers:{Authorization:"Bearer ".concat(s)}}),window.location.reload()}catch(o){r(o.message)}else t(H.addItem({_id:a,productName:n,imagePath:l,price:c})),window.location.reload(),window.scrollTo({top:0,behavior:"smooth"});else alert("Vui l\xf2ng cung c\u1ea5p \u0111\u1ecba ch\u1ec9")})(e):alert("Vui l\xf2ng cung c\u1ea5p \u0111\u1ecba ch\u1ec9 giao h\xe0ng! C\u1ea3m \u01a1n qu\xfd kh\xe1ch!")},"Th\xeam"))))))))};var B=()=>{const e={dots:!0,infinite:!0,speed:400,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:2e3};return c.a.createElement(c.a.Fragment,null,c.a.createElement(f,{title:"Home"},c.a.createElement("section",null,c.a.createElement(o.a,null,c.a.createElement(k.a,e,c.a.createElement("div",null,c.a.createElement(y.a,null,c.a.createElement(w.a,{lg:"6",md:"6"},c.a.createElement("div",{className:"hero__content"},c.a.createElement("h5",{className:"mb-3"},"\u0110\u1eb6T H\xc0NG V\xc0 GIAO H\xc0NG NHANH CH\xd3NG"),c.a.createElement("h1",{className:"mb-4 hero__title"},c.a.createElement("span",null,"TH\u01af\u1edeNG TH\u1ee8C")," C\xc1C M\xd3N \u0102N Y\xcaU TH\xcdCH"),c.a.createElement("button",{className:"order__btn d-flex align-items-center justify-content-between"},c.a.createElement(u.b,{to:"/pizzas"},"Th\u1ef1c \u0110\u01a1n ",c.a.createElement("i",{className:"ri-arrow-right-s-line"}))))),c.a.createElement(w.a,{lg:"6",md:"6"},c.a.createElement("div",{className:"hero__img"},c.a.createElement("img",{src:C.a,alt:"delivery-guy",className:"w-75"}))))),c.a.createElement("div",null,c.a.createElement(y.a,null,c.a.createElement(w.a,{lg:"6",md:"6"},c.a.createElement("div",{className:"hero__content"},c.a.createElement("h5",{className:"mb-3"},"Another Slide Title"),c.a.createElement("h1",{className:"mb-4 hero__title"},c.a.createElement("span",null,"Delicious")," Fast Food Options"),c.a.createElement("button",{className:"order__btn d-flex align-items-center justify-content-between"},c.a.createElement(u.b,{to:"/pizzas"},"Check Our Menu ",c.a.createElement("i",{className:"ri-arrow-right-s-line"}))))),c.a.createElement(w.a,{lg:"6",md:"6"},c.a.createElement("div",{className:"fast-food__img"},c.a.createElement("img",{src:O.a,alt:"pizza",className:"w-75"}))))))),c.a.createElement("br",null),c.a.createElement(o.a,null,c.a.createElement(y.a,null,c.a.createElement(w.a,{className:"categories-home"},c.a.createElement("h4",null,"DANH M\u1ee4C M\xd3N \u0102N"),c.a.createElement(S,null))),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement(y.a,null,c.a.createElement(w.a,{className:"categories-home"},c.a.createElement("h4",null,"S\u1ea2N PH\u1ea8M N\u1ed4I B\u1eacT"),c.a.createElement(F,null)))))))};t(36),t(80);var D=()=>{const[e,a]=Object(n.useState)([]),[t,r]=Object(n.useState)([]),[l,s]=Object(n.useState)(!0),[m,i]=Object(n.useState)(""),p=Object(n.useRef)({}),g=Object(x.b)(),N=new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"});Object(n.useEffect)(()=>{(async()=>{try{const e=await d.a.get("".concat(h,"/product"));a(e.data.products),s(!1)}catch(m){i(m.message),s(!1)}})(),(async()=>{try{const e=await d.a.get("".concat(h,"/category"));r(e.data.categories)}catch(m){i(m.message)}})()},[]);const _=e=>{const a=!!sessionStorage.getItem("savedAddresses"),t=a?"addTOCART__btn":"addTOCART__btn disabled",n=a?{}:{cursor:"not-allowed"};return c.a.createElement("div",{key:e._id,className:"product__item d-flex flex-column justify-content-between"},c.a.createElement("div",{className:"product__content"},c.a.createElement(u.b,{to:"/pizzas/".concat(e._id)},c.a.createElement("img",{className:"product__img w-50",src:e.imagePath,alt:e.productName})),c.a.createElement("h5",null,c.a.createElement(u.b,{to:"/pizzas/".concat(e._id)},e.productName))),c.a.createElement("div",{className:"product__description"},c.a.createElement("span",null,e.productSubtitles)),c.a.createElement("div",{className:"d-flex flex-column align-items-center justify-content-between"},c.a.createElement("span",{className:"product__price mb-2"},N.format(e.price)),c.a.createElement("button",{className:t,style:n,onClick:()=>a?(async e=>{const{_id:a,productName:t,price:n,imagePath:c}=e,r=E.a.get("accessToken");if(sessionStorage.getItem("savedAddresses"))if(r)try{await d.a.post("".concat(h,"/cart/add-to-cart"),{productId:a,quantity:1},{headers:{Authorization:"Bearer ".concat(r)}}),window.location.reload()}catch(m){i(m.message)}else g(H.addItem({_id:a,productName:t,imagePath:c,price:n})),window.location.reload(),window.scrollTo({top:0,behavior:"smooth"});else alert("Vui l\xf2ng cung c\u1ea5p \u0111\u1ecba ch\u1ec9")})(e):alert("Vui l\xf2ng cung c\u1ea5p \u0111\u1ecba ch\u1ec9 giao h\xe0ng! C\u1ea3m \u01a1n qu\xfd kh\xe1ch!")},"Th\xeam")))};return c.a.createElement(c.a.Fragment,null,c.a.createElement(f,{title:"All Product"},c.a.createElement(o.a,null,c.a.createElement("div",{className:"header-categories"},"Danh m\u1ee5c: ",t.map(e=>c.a.createElement("span",{key:e._id,className:"category-item",onClick:()=>(e=>{if(p.current[e._id]){const a=-220,t=p.current[e._id].getBoundingClientRect().top+window.pageYOffset+a;window.scrollTo({top:t,behavior:"smooth"})}})(e)},e.categoryName))),c.a.createElement("br",null),l&&c.a.createElement("div",{className:"text-center pt-5"},c.a.createElement("div",{className:"spinner-border",role:"status"},c.a.createElement("span",{className:"sr-only"}))),m&&c.a.createElement("h4",{className:"text-center pt-5"},m),!l&&!m&&c.a.createElement(c.a.Fragment,null,t.map(a=>{const t=e.filter(e=>e.categoryId===a._id);return c.a.createElement("div",{key:a._id,ref:e=>p.current[a._id]=e},c.a.createElement("h4",{className:"category-product__page"},a.categoryName),c.a.createElement(y.a,null,t.length>0?t.map(e=>c.a.createElement(w.a,{lg:"3",md:"4",sm:"6",xs:"6",key:e._id,className:"mb-4 mt-4"},_(e))):c.a.createElement("div",{className:"text-center w-100"},c.a.createElement("p",null,"Kh\xf4ng c\xf3 s\u1ea3n ph\u1ea9m ph\xf9 h\u1ee3p!"))))})))))};t(81),t(37);var G=()=>{const e=window.location.pathname.split("/"),a=e[e.length-1],t=Object(x.b)(),[r,l]=Object(n.useState)(null),[s,m]=Object(n.useState)(!1);if(Object(n.useEffect)(()=>{if(!a)return;(async()=>{try{const e=await d.a.get("".concat(h,"/product/get-product/").concat(a));l(e.data.product)}catch(e){console.error("Error loading product details:",e)}})()},[a]),!r)return c.a.createElement("p",null,"Loading...");const i=new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}),{productName:u,price:p,productSubtitles:g}=r,N=!!sessionStorage.getItem("savedAddresses"),_=N?"addTOCART__btn":"addTOCART__btn disabled",b=N?{}:{backgroundColor:"",cursor:"not-allowed"};return c.a.createElement(f,{title:"Product-details"},s&&c.a.createElement("div",{className:"updateCartNotifiation"},c.a.createElement("span",null,"\u0110\xe3 th\xeam m\xf3n v\xe0o gi\u1ecf h\xe0ng!")),c.a.createElement("section",null,c.a.createElement(o.a,null,c.a.createElement(y.a,null,c.a.createElement(w.a,{lg:"4",className:"d-flex mx-auto"},c.a.createElement("div",{className:"product__images"},c.a.createElement("img",{src:r.imagePath,alt:"",className:"w-75"}))),c.a.createElement(w.a,{lg:"6",md:"6"},c.a.createElement("div",{className:"single__product-content"},c.a.createElement("h2",{className:"product__name mb-3"},u),c.a.createElement("h6",{className:"description"},"Combo m\xf3n c\u1ee7a b\u1ea1n: "),c.a.createElement("div",{className:"description__content"},c.a.createElement("p",null,g)),c.a.createElement("p",{className:"product__price"},"Gi\xe1 ti\u1ec1n: ",c.a.createElement("span",null,i.format(p))),c.a.createElement("br",null),c.a.createElement("button",{onClick:()=>{if(!sessionStorage.getItem("savedAddresses"))return void alert("Vui l\xf2ng cung c\u1ea5p \u0111\u1ecba ch\u1ec9 giao h\xe0ng! C\u1ea3m \u01a1n qu\xfd kh\xe1ch!");m(!0),setTimeout((function(){m(!1)}),1500);const e=E.a.get("accessToken");if(e)try{d.a.post("".concat(h,"/cart/add-to-cart"),{productId:r._id,quantity:1},{headers:{Authorization:"Bearer ".concat(e)}}),window.location.reload()}catch(a){console.error("Error adding item to cart:",a)}else t(H.addItem({_id:r._id,productName:r.productName,price:r.price,imagePath:r.imagePath})),window.location.reload(),window.scrollTo({top:0,behavior:"smooth"})},className:_,style:b},"Th\xeam v\xe0o gi\u1ecf h\xe0ng")))))))};const L=e=>{let{item:a,deleteItem:t,incrementQuantity:n,decrementQuantity:r}=e;const{_id:l,imagePath:s,productName:o,price:m,quantity:i}=a,u=new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"});return c.a.createElement("tr",null,c.a.createElement("td",{className:"text-center cart__img-box"},c.a.createElement("img",{src:s,alt:""})),c.a.createElement("td",{className:"text-center"},o),c.a.createElement("td",{className:"text-center"},u.format(m)),c.a.createElement("td",{className:"text-center"},c.a.createElement("button",{className:"quantity-btn",onClick:()=>r(l,i),disabled:1===i},"-"),c.a.createElement("span",{className:"quantity"},i),c.a.createElement("button",{className:"quantity-btn",onClick:()=>n(l,i)},"+")),c.a.createElement("td",{className:"text-center cart__item-del"},c.a.createElement("i",{className:"ri-delete-bin-line",onClick:()=>t(l)})))};var R=()=>{const[e,a]=Object(n.useState)([]),[t,r]=Object(n.useState)(0),l=E.a.get("accessToken"),s=Object(x.b)(),[m,i]=Object(n.useState)(!0),[p,g]=Object(n.useState)(""),N=new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}),_=()=>{window.scrollTo({top:0,behavior:"smooth"})},b=Object(n.useCallback)(async()=>{if(l)try{const e=await d.a.get("".concat(h,"/cart/get-cart"),{headers:{Authorization:"Bearer ".concat(l)}}),t=e.data.cart.products.map(e=>({_id:e.product._id,productName:e.product.productName,price:e.product.price,imagePath:e.product.imagePath,quantity:e.quantity})),n=e.data.cart.totalAmount;i(!1),a(t),r(n),sessionStorage.setItem("cart",JSON.stringify(t)),sessionStorage.setItem("total",JSON.stringify(n))}catch(p){g(p.message),console.error("Error fetching cart data:",p)}else{const e=JSON.parse(sessionStorage.getItem("cartItems"))||[],t=JSON.parse(sessionStorage.getItem("totalAmount"))||0;i(!1),a(e),r(t)}},[l]);Object(n.useEffect)(()=>{b()},[b]);const v=async e=>{if(l)try{await d.a.post("".concat(h,"/cart/remove-from-cart"),{productId:e},{headers:{Authorization:"Bearer ".concat(l)}}),b(),window.location.reload()}catch(p){console.error("Error removing item from cart:",p)}else s(H.deleteItem(e)),b(),window.location.reload(),_()},k=async(e,a)=>{if(l)try{await d.a.put("".concat(h,"/cart/update-cart-item"),{productId:e,quantity:a+1},{headers:{Authorization:"Bearer ".concat(l)}}),b(),window.location.reload()}catch(p){console.error("Error increasing quantity:",p)}else s(H.addItem({_id:e})),b(),window.location.reload(),_()},T=async(e,a)=>{if(l&&a>1)try{await d.a.put("".concat(h,"/cart/update-cart-item"),{productId:e,quantity:a-1},{headers:{Authorization:"Bearer ".concat(l)}}),b(),window.location.reload()}catch(p){console.error("Error decreasing quantity:",p)}else!l&&a>1?(s(H.removeItem(e)),b(),window.location.reload(),_()):l||1!==a||(s(H.deleteItem(e)),b(),window.location.reload(),_())};return c.a.createElement(c.a.Fragment,null,c.a.createElement(f,{title:"Cart"},c.a.createElement("section",null,c.a.createElement(o.a,null,c.a.createElement(y.a,null,c.a.createElement(w.a,{lg:"12",className:"cart-page"},m&&c.a.createElement("div",{className:"text-center pt-5"},c.a.createElement("div",{className:"spinner-border",role:"status"},c.a.createElement("span",{className:"sr-only"}))),p&&c.a.createElement("h4",{className:"text-center pt-5"},p),!m&&!p&&c.a.createElement(c.a.Fragment,null,0===e.length?c.a.createElement("div",{className:"text-center pt-5"},c.a.createElement("h5",null,"GI\u1ece H\xc0NG B\u1ea0N \u0110ANG R\u1ed6NG"),c.a.createElement(u.b,{to:"/pizzas"},c.a.createElement("button",{className:"addTOCart__btn mt-4",onClick:_},"Ti\u1ebfp t\u1ee5c Mua H\xe0ng"))):c.a.createElement(c.a.Fragment,null,c.a.createElement("h5",{className:"mb-4"},"GI\u1ece H\xc0NG C\u1ee6A T\xd4I"),c.a.createElement("table",{className:"table table-borderless mb-5 align-middle"},c.a.createElement("tbody",null,e.map(e=>c.a.createElement(L,{item:e,key:e._id,deleteItem:v,incrementQuantity:k,decrementQuantity:T})))),c.a.createElement("div",{className:"cart__total mt-4"},c.a.createElement("h6",null,"T\u1ed5ng \u0111\u01a1n h\xe0ng:",c.a.createElement("span",{className:"cart__subtotal"}," ",N.format(t))),c.a.createElement("p",null,"Thu\u1ebf v\xe0 ph\xed v\u1eadn chuy\u1ec3n s\u1ebd \u0111\u01b0\u1ee3c t\xednh khi thanh to\xe1n."),c.a.createElement("div",{className:"cart__page-btn"},c.a.createElement(u.b,{to:"/pizzas"},c.a.createElement("button",{className:"addTOCart__btn me-4",onClick:_},"Ti\u1ebfp t\u1ee5c Mua H\xe0ng")),c.a.createElement(u.b,{to:"/order"},c.a.createElement("button",{className:"addTOCart__btn",onClick:_},"Chuy\u1ec3n \u0111\u1ebfn \u0110\u1eb7t h\xe0ng"))))))))))))},Q=t(100),J=t(101),U=t(108),K=(t(82),t(42)),X=t.n(K),Y=t(99);t(83);var W=()=>{const e=new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}),[a,t]=Object(n.useState)([]),[r,l]=Object(n.useState)(0),s=E.a.get("accessToken");let o=[];o=s?JSON.parse(sessionStorage.getItem("cart"))||[]:JSON.parse(sessionStorage.getItem("cartItems"))||[];const m=e=>{const a=sessionStorage.getItem(e);return a?JSON.parse(a):null},i=m("shippingFee")||0,u=e.format(r+m("shippingFee")||0);return Object(n.useEffect)(()=>{(async()=>{try{const e=await d.a.get("".concat(h,"/discount/get-all-discounts"));if(!e.data||!Array.isArray(e.data))throw new Error("Invalid data format");const a=e.data.filter(e=>r>=e.condition.orderTotalMin);t(a)}catch(e){console.error("Error fetching discounts:",e)}})(),l(s?Number(sessionStorage.getItem("total"))||0:Number(sessionStorage.getItem("totalAmount"))||0)},[s,r]),c.a.createElement(w.a,{lg:"8"},c.a.createElement("div",{className:"booking__bottom"},c.a.createElement("h3",null,"T\xf3m t\u1eaft"),c.a.createElement(_.a,{className:"booking__bottom-total"},c.a.createElement(Y.a,{className:"total__booking border-0 px-0 total"},c.a.createElement(y.a,null,c.a.createElement(w.a,{md:"8",className:"total__booking-price"},c.a.createElement("ul",{className:"list-product"},o.map((e,a)=>c.a.createElement("p",{key:a},e.quantity," x ",e.productName)))),c.a.createElement(w.a,{md:"4"},o.map((a,t)=>c.a.createElement("p",{key:t},e.format(a.price)))))),c.a.createElement(Y.a,{className:"total__quantity border-0 px-0"},c.a.createElement(y.a,null,c.a.createElement(w.a,{md:"6"},"S\u1ed1 l\u01b0\u1ee3ng:"),c.a.createElement(w.a,{md:"6"},o.reduce((e,a)=>e+a.quantity,0)))),c.a.createElement("hr",null),c.a.createElement(Y.a,{className:"total__booking border-0 px-0 total"},c.a.createElement(y.a,null,c.a.createElement(w.a,{md:"5"},"T\u1ed5ng \u0111\u01a1n h\xe0ng:"),c.a.createElement(w.a,{md:"7",className:"total__booking-price"},c.a.createElement("p",null,e.format(r))))),c.a.createElement(Y.a,{className:"total__booking border-0 px-0 total"},c.a.createElement(y.a,null,c.a.createElement(w.a,{md:"5"},"Ph\xed v\u1eadn chuy\u1ec3n:"),c.a.createElement(w.a,{md:"7",className:"total__booking-price"},c.a.createElement("p",null,e.format(i))))),c.a.createElement(Y.a,{className:"total__booking border-0 px-0 total"},c.a.createElement(y.a,null,c.a.createElement(w.a,{md:"5"},"T\u1ed5ng c\u1ed9ng:"),c.a.createElement(w.a,{md:"7",className:"total__booking-price"},c.a.createElement("p",null,u)))))),c.a.createElement("div",{className:"booking-discount__bottom"},c.a.createElement("h3",null,"Phi\u1ebfu gi\u1ea3m gi\xe1"),c.a.createElement(_.a,{className:"booking__bottom-total"},a.map((a,t)=>c.a.createElement(Y.a,{key:t,className:"discount-item border-0 px-0"},c.a.createElement(y.a,null,c.a.createElement(w.a,{md:"3"},c.a.createElement("img",{src:a.imagePath,alt:a.code,className:"discount-image"})),c.a.createElement(w.a,{md:"9",className:"discount-details"},c.a.createElement("p",{className:"discount-code"},"M\xe3 | ",c.a.createElement("span",{className:"code"},a.code)),c.a.createElement("span",{className:"discount-amount"},"T\u1ed1i thi\u1ec3u: ",e.format(a.condition.orderTotalMin)),"|",c.a.createElement("span",{className:"discount-amount"},"T\u1ed1i \u0111a: ",e.format(a.condition.orderTotalMax)))))))))};var Z=()=>{const[e,a]=Object(n.useState)(!1),[t,r]=Object(n.useState)(""),l=sessionStorage.getItem("savedAddresses");let s="";if(l){const e=JSON.parse(l);Array.isArray(e)&&e.length>0&&(s=e[0])}const o=E.a.get("accessToken"),m=parseFloat(sessionStorage.getItem("shippingFee"))||0,i=sessionStorage.getItem("nearestShopId")||"",[u,p]=Object(n.useState)({fullName:"",email:"",phone:"",address:s,shopId:i,paymentMethod:"",voucherCode:"",shippingFee:m,products:(()=>{let e=[];return e=o?JSON.parse(sessionStorage.getItem("cart"))||[]:JSON.parse(sessionStorage.getItem("cartItems"))||[],e.map(e=>({productId:e._id,quantity:e.quantity}))})()});Object(n.useEffect)(()=>{if(o){(async()=>{try{const e=(await d.a.get("".concat(h,"/user/get-info-user"),{headers:{Authorization:"Bearer ".concat(o)}})).data.user;p(a=>({...a,fullName:e.fullName||"",email:e.email||"",phone:e.phone||""})),a(!1)}catch(e){console.error("Error fetching user info:",e)}})()}},[o]);const g=e=>{r(e),p(a=>({...a,paymentMethod:e}))},N=a=>{e||p(e=>({...e,[a.target.id]:a.target.value}))};return c.a.createElement(c.a.Fragment,null,c.a.createElement(y.a,{className:"w-100"},c.a.createElement(w.a,{lg:"7"},c.a.createElement("div",{className:"booking"},c.a.createElement("div",{className:"booking__form"},c.a.createElement("h3",null,"Th\xf4ng tin Thanh to\xe1n"),c.a.createElement(Q.a,{className:"booking__info-form"},c.a.createElement("h6",null,"Th\xf4ng tin li\xean h\u1ec7 (nh\u1eadn v\xe9/phi\u1ebfu thanh to\xe1n)"),c.a.createElement(J.a,null,c.a.createElement("input",{type:"text",placeholder:"H\u1ecd v\xe0 t\xean*",id:"fullName",required:!0,onChange:N,value:u.fullName||""})),c.a.createElement("p",null,"nh\u01b0 tr\xean CMND (kh\xf4ng d\u1ea5u)"),c.a.createElement(J.a,null,c.a.createElement("input",{type:"email",placeholder:"Email*",id:"email",required:!0,onChange:N,value:u.email||""})),c.a.createElement("p",null,"VD: email@example.com"),c.a.createElement(J.a,null,c.a.createElement("input",{type:"text",placeholder:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i*",id:"phone",required:!0,onChange:N,value:u.phone||""})),c.a.createElement("p",null,"VD: +84 901234567 trong \u0111\xf3 (+84) l\xe0 m\xe3 qu\u1ed1c gia v\xe0 901234567 l\xe0 s\u1ed1 di \u0111\u1ed9ng"),c.a.createElement(J.a,null,c.a.createElement("input",{type:"text",placeholder:"\u0110\u1ecba ch\u1ec9*",id:"address",required:!0,onChange:N,value:u.address||""})),c.a.createElement("p",null,"VD: 123 Nguy\u1ec5n Ch\xed Thanh, H\xe0 N\u1ed9i"),c.a.createElement(J.a,null,c.a.createElement("input",{type:"text",placeholder:"M\xe3 gi\u1ea3m gi\xe1 (n\u1ebfu c\xf3)",id:"voucherCode",required:!0,onChange:N,value:u.voucherCode||""})),c.a.createElement("p",null,"VD: ANGACUNGTRINHSAD"))),c.a.createElement("br",null),c.a.createElement("div",{className:"payment-method"},c.a.createElement("h6",null,"Ph\u01b0\u01a1ng th\u1ee9c thanh to\xe1n:"),c.a.createElement(U.a,{className:"btn-payment ".concat("CASH"===t?"active":""),onClick:()=>g("CASH")},"Thanh to\xe1n b\u1eb1ng ti\u1ec1n m\u1eb7t"),c.a.createElement(U.a,{className:"btn-payment ".concat("ONLINE"===t?"active":""),onClick:()=>g("ONLINE")},"Thanh to\xe1n b\u1eb1ng v\xed VNPAY",c.a.createElement("img",{src:X.a,alt:"VNPay"}))),c.a.createElement("div",{className:"button__booking-payment",onClick:async e=>{if(e.preventDefault(),!u.paymentMethod)return alert("Vui l\xf2ng ch\u1ecdn ph\u01b0\u01a1ng th\u1ee9c thanh to\xe1n");try{let e;e=o?await d.a.post("".concat(h,"/order/create-order"),u,{headers:{Authorization:"Bearer ".concat(o)}}):await d.a.post("".concat(h,"/order/create-order"),u);const t=e.data.newOrder._id;if("CASH"===u.paymentMethod)alert("\u0110\u1eb7t h\xe0ng th\xe0nh c\xf4ng"),window.location.href="/thank-you",sessionStorage.removeItem("cartItems"),sessionStorage.removeItem("totalQuantity"),sessionStorage.removeItem("totalAmount");else if("ONLINE"!==u.paymentMethod||o){if("ONLINE"===u.paymentMethod&&o)try{const e=await d.a.post("".concat(h,"/checkout/create-checkout/").concat(t),{});e.data&&e.data.data?window.location.href=e.data.data:alert("Kh\xf4ng th\u1ec3 l\u1ea5y URL thanh to\xe1n. Vui l\xf2ng th\u1eed l\u1ea1i sau.")}catch(a){console.error("Error processing VNPAY payment:",a),alert("Thanh to\xe1n th\u1ea5t b\u1ea1i. Vui l\xf2ng th\u1eed l\u1ea1i sau")}}else{try{const e=await d.a.post("".concat(h,"/checkout/create-checkout/").concat(t));e.data&&e.data.data?window.location.href=e.data.data:alert("Kh\xf4ng th\u1ec3 l\u1ea5y URL thanh to\xe1n. Vui l\xf2ng th\u1eed l\u1ea1i sau.")}catch(a){console.error("Error processing VNPAY payment:",a),alert("Thanh to\xe1n th\u1ea5t b\u1ea1i. Vui l\xf2ng th\u1eed l\u1ea1i sau")}sessionStorage.removeItem("cartItems"),sessionStorage.removeItem("totalQuantity"),sessionStorage.removeItem("totalAmount")}}catch(a){console.error("Error in handleClick:",a),alert("\u0110\u1eb7t h\xe0ng th\u1ea5t b\u1ea1i. Vui l\xf2ng th\u1eed l\u1ea1i sau")}}},c.a.createElement(U.a,{className:"button__continue"},"\u0110\u1eb7t H\xe0ng")))),c.a.createElement(w.a,{lg:"5"},c.a.createElement(W,null))))},$=t(102),ee=t(29),ae=t.n(ee),te=t(43),ne=t.n(te),ce=t(14);var re=()=>{const e=Object(s.p)(),[a,t]=Object(n.useState)({userName:"",password:"",email:""}),[r,l]=Object(n.useState)(!1),[o,m]=Object(n.useState)(!1),[i,p]=Object(n.useState)(!1),[g,N]=Object(n.useState)(""),_=e=>{t({...a,[e.target.id]:e.target.value})},b=()=>{l(!r)};Object(n.useEffect)(()=>{const e=E.a.get("accessToken");p(!!e)},[]),Object(n.useEffect)(()=>{if(g){const e=setTimeout(()=>{N("")},2e3);return()=>clearTimeout(e)}},[g]);return c.a.createElement("div",{className:"login-row"},c.a.createElement(y.a,{className:"w-100"},c.a.createElement(w.a,{lg:{size:5,offset:1},className:"login__img"},c.a.createElement("img",{src:ae.a,alt:"Poster"})),c.a.createElement(w.a,null,c.a.createElement("div",{className:"login-container"},i?c.a.createElement("div",{className:"login-form"},c.a.createElement("h2",null,"B\u1ea1n \u0111\xe3 \u0111\u0103ng nh\u1eadp"),c.a.createElement("p",null,"B\u1ea1n \u0111\xe3 \u0111\u0103ng nh\u1eadp v\xe0o h\u1ec7 th\u1ed1ng."),c.a.createElement(U.a,{className:"button__login",onClick:()=>e("/")},"V\u1ec1 Trang Ch\u1ee7")):c.a.createElement("div",{className:"login-form"},c.a.createElement("h2",null,"\u0110\u0102NG NH\u1eacP"),g&&c.a.createElement("p",{className:"error-message"},g),c.a.createElement(Q.a,null,c.a.createElement(J.a,{className:"login__input"},c.a.createElement("input",{type:"text",id:"userName",name:"userName",value:a.userName,onChange:_,required:!0}),c.a.createElement($.a,{className:"input__place",for:"userName"},"T\xean t\xe0i kho\u1ea3n ",c.a.createElement("span",null,"*"))),c.a.createElement(J.a,{className:"login__input"},c.a.createElement("input",{type:o?"text":"password",id:"password",name:"password",value:a.password,onChange:_,required:!0}),c.a.createElement($.a,{className:"input__place",for:"password"},"M\u1eadt kh\u1ea9u ",c.a.createElement("span",null,"*")),c.a.createElement("span",{className:"d-flex show-password",onClick:()=>{m(!o)}},o?c.a.createElement(ce.b,null):c.a.createElement(ce.a,null))),c.a.createElement("p",{className:"forgot-password",onClick:b},"B\u1ea1n qu\xean m\u1eadt kh\u1ea9u?"),c.a.createElement(U.a,{className:"button__login",onClick:async t=>{t.preventDefault();try{const t=await d.a.post("".concat(h,"/auth/login"),a),n=t.data.userObj._id;E.a.set("userId",n,{expires:7,path:"/"}),E.a.set("accessToken",t.data.Token.accessToken,{expires:7,path:"/"}),E.a.set("refreshToken",t.data.Token.refreshToken,{expires:7,path:"/"}),setTimeout(()=>{window.location.reload(e("/home"))},500)}catch(n){400===n.status?N("M\u1ed9t l\u1ed7i \u0111\xe3 x\u1ea3y ra."):N("Sai t\xean t\xe0i kho\u1ea3n ho\u1eb7c m\u1eadt kh\u1ea9u. Vui l\xf2ng th\u1eed l\u1ea1i."),console.error("Login error:",n)}}},"\u0110\u0103ng nh\u1eadp"),c.a.createElement("span",null,"Ho\u1eb7c ti\u1ebfp t\u1ee5c v\u1edbi"),c.a.createElement(U.a,{className:"button__login-google",onClick:async()=>{window.location.href="".concat(h,"/auth/google")}},c.a.createElement("img",{src:ne.a,className:"google-img",alt:""}),"\u0110\u0103ng nh\u1eadp b\u1eb1ng Google"),c.a.createElement("p",{className:"btn-register"},"B\u1ea1n ch\u01b0a c\xf3 t\xe0i kho\u1ea3n? ",c.a.createElement(u.b,{to:"/register",onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})}},"\u0110\u0103ng k\xfd"))))),r&&c.a.createElement("div",{className:"overlay",style:{bottom:r?0:"-100%"}},c.a.createElement("div",{className:"forgot-password__form"},c.a.createElement("div",{className:"close-btn",onClick:b},c.a.createElement("span",{"aria-hidden":"true"},"\xd7")),c.a.createElement("h2",null,"B\u1ea1n qu\xean m\u1eadt kh\u1ea9u?"),c.a.createElement("h4",null,"\u0110\u1eebng lo l\u1eafng, b\u1ea1n c\xf3 th\u1ec3 \u0111\u1eb7t l\u1ea1i d\u1ec5 d\xe0ng."),c.a.createElement("p",null,"Ch\xfang t\xf4i s\u1ebd g\u1eedi cho b\u1ea1n m\u1ed9t email c\xf3 li\xean k\u1ebft \u0111\u1ec3 \u0111\u1eb7t l\u1ea1i m\u1eadt kh\u1ea9u c\u1ee7a b\u1ea1n."),c.a.createElement(Q.a,null,c.a.createElement(J.a,{className:"login__input"},c.a.createElement("input",{type:"text",id:"email",name:"email",value:a.email,onChange:_,required:!0}),c.a.createElement($.a,{className:"input__place",for:"username"},"\u0110\u1ecba ch\u1ec9 email c\u1ee7a b\u1ea1n *")),c.a.createElement(U.a,{className:"button__forgot",onClick:async e=>{if(e.preventDefault(),""===a.email.trim())return alert("Vui l\xf2ng nh\u1eadp email!"),void setTimeout(()=>{},2e3);try{const e=await d.a.post("".concat(h,"/auth/forgot-password"),a);return console.log(e),alert("Email \u0111\xe3 \u0111\u01b0\u1ee3c g\u1eedi \u0111i! Vui l\xf2ng ki\u1ec3m tra email c\u1ee7a b\u1ea1n."),t(e=>({...e,email:""})),void setTimeout(()=>{},2e3)}catch(n){console.log(n),alert("User kh\xf4ng t\u1ed3n t\u1ea1i. Vui l\xf2ng nh\u1eadp \u0111\xfang email c\u1ee7a b\u1ea1n \u0111\xe3 \u0111\u0103ng k\xfd"),setTimeout(()=>{},2e3)}}},"G\u1eedi Email \u0110\u1eb7t l\u1ea1i M\u1eadt kh\u1ea9u")))))))};t(25);var le=()=>{const[e,a]=Object(n.useState)({fullName:"",email:"",phone:"",userName:"",password:""}),[t,r]=Object(n.useState)(""),[l,o]=Object(n.useState)({otp:""}),[m,i]=Object(n.useState)(!1),[p,E]=Object(n.useState)(""),g=Object(s.p)(),[N,_]=Object(n.useState)(!1),[b,f]=Object(n.useState)(!1);Object(n.useEffect)(()=>{const e=localStorage.getItem("accessToken");_(!!e)},[]);const v=t=>{a({...e,[t.target.id]:t.target.value})},k=async a=>{a.preventDefault();try{const a=(await d.a.post("".concat(h,"/auth/register"),e)).data.user._id;r(a),f(!0)}catch(t){400===t.status?E("User with email  ".concat(e.email," already exists")):E("M\u1ed9t l\u1ed7i \u0111\xe3 x\u1ea3y ra."),console.error("Registration error:",t.data)}};return c.a.createElement("div",{className:"login-row"},c.a.createElement(y.a,{className:"w-100"},c.a.createElement(w.a,{lg:{size:5,offset:1},className:"login__img"},c.a.createElement("img",{src:ae.a,alt:"Poster"})),c.a.createElement(w.a,null,c.a.createElement("div",{className:"login-container"},N?c.a.createElement("div",{className:"login-form"},c.a.createElement("h2",null,"B\u1ea1n \u0111\xe3 \u0111\u0103ng nh\u1eadp"),c.a.createElement("p",null,"B\u1ea1n \u0111\xe3 \u0111\u0103ng nh\u1eadp v\xe0o h\u1ec7 th\u1ed1ng."),c.a.createElement(U.a,{className:"button__login",onClick:()=>g("/")},"V\u1ec1 Trang Ch\u1ee7")):c.a.createElement("div",{className:"login-form"},c.a.createElement("h2",null,"T\u1ea0O T\xc0I KHO\u1ea2N"),p&&c.a.createElement("p",{className:"error-message"},p),c.a.createElement(Q.a,{onSubmit:k},c.a.createElement(J.a,{className:"login__input"},c.a.createElement("input",{type:"text",id:"fullName",name:"fullName",value:e.fullName,onChange:v,required:!0}),c.a.createElement($.a,{className:"input__place",for:"fullName"},"H\u1ecd v\xe0 t\xean c\u1ee7a b\u1ea1n ",c.a.createElement("span",null,"*"))),c.a.createElement(J.a,{className:"login__input"},c.a.createElement("input",{type:"email",id:"email",name:"email",value:e.email,onChange:v,required:!0}),c.a.createElement($.a,{className:"input__place",for:"email"},"\u0110\u1ecba ch\u1ec9 email c\u1ee7a b\u1ea1n ",c.a.createElement("span",null,"*"))),c.a.createElement(J.a,{className:"login__input"},c.a.createElement("input",{type:"phone",id:"phone",name:"phone",value:e.phone,onChange:v,required:!0}),c.a.createElement($.a,{className:"input__place",for:"phone"},"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i ",c.a.createElement("span",null,"*"))),c.a.createElement(J.a,{className:"login__input"},c.a.createElement("input",{type:"text",id:"userName",name:"userName",value:e.userName,onChange:v,required:!0}),c.a.createElement($.a,{className:"input__place",for:"userName"},"T\xean t\xe0i kho\u1ea3n ",c.a.createElement("span",null,"*"))),c.a.createElement(J.a,{className:"login__input"},c.a.createElement("input",{type:m?"text":"password",id:"password",name:"password",value:e.password,onChange:v,required:!0}),c.a.createElement($.a,{className:"input__place",for:"password"},"M\u1eadt kh\u1ea9u ",c.a.createElement("span",null,"*")),c.a.createElement("span",{className:"d-flex show-password",onClick:()=>{i(!m)}},m?c.a.createElement(ce.b,null):c.a.createElement(ce.a,null))),c.a.createElement(U.a,{className:"button__register",onClick:k},"T\u1ea1o t\xe0i kho\u1ea3n")),c.a.createElement("p",{className:"btn-register"},"B\u1ea1n \u0111\xe3 c\xf3 t\xe0i kho\u1ea3n ",c.a.createElement(u.b,{to:"/login",onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})}},"\u0110\u0103ng nh\u1eadp")))),b&&c.a.createElement("div",{className:"overlay",style:{bottom:b?0:"-100%"}},c.a.createElement("div",{className:"otp-email__form mx-auto"},c.a.createElement("div",{className:"close-btn",onClick:()=>{f(!1)}},c.a.createElement("span",{"aria-hidden":"true"},"\xd7")),c.a.createElement("h2",null,"X\xe1c th\u1ef1c OTP"),p&&c.a.createElement("p",{className:"error-message"},p),c.a.createElement(Q.a,null,c.a.createElement(J.a,{className:"login__input d-flex align-items-center"},c.a.createElement("input",{type:"text",id:"otp",name:"otp",value:l.otp,onChange:e=>{o({...l,[e.target.id]:e.target.value})},required:!0}),c.a.createElement($.a,{className:"input__place",for:"otp"},"Nh\u1eadp m\xe3 OTP ",c.a.createElement("span",null,"*")),c.a.createElement("span",{className:"d-flex show-password ml-2",onClick:async()=>{try{await d.a.post("".concat(h,"/auth/resend-otp?userId=").concat(t)),window.alert("OTP m\u1edbi \u0111\xe3 \u0111\u01b0\u1ee3c g\u1eedi \u0111\u1ebfn email c\u1ee7a b\u1ea1n.")}catch(e){e.response&&e.response.data&&e.response.data.message?E(e.response.data.message):E("M\u1ed9t l\u1ed7i \u0111\xe3 x\u1ea3y ra khi g\u1eedi l\u1ea1i OTP."),console.error("Resend OTP error:",e.response.data)}},title:"Resend OTP"},c.a.createElement(ce.c,null))),c.a.createElement("p",null,"OTP \u0111\xe3 \u0111\u01b0\u1ee3c g\u1eedi v\u1ec1 \u0111\u1ecba ch\u1ec9 email \u0111\u0103ng k\xfd. Qu\xfd kh\xe1ch vui l\xf2ng nh\u1eadp m\xe3 OTP \u0111\u1ec3 ti\u1ebfp t\u1ee5c th\u1ef1c hi\u1ec7n \u0111\u0103ng k\xfd t\xe0i kho\u1ea3n."),c.a.createElement(U.a,{className:"button__forgot",onClick:async e=>{e.preventDefault();try{await d.a.post("".concat(h,"/auth/verify-otp?userId=").concat(t),l),window.alert("X\xe1c th\u1ef1c \u0111\u0103ng k\xfd th\xe0nh c\xf4ng"),window.location.reload(g("/login"))}catch(a){a.response&&a.response.data&&a.response.data.message?E(a.response.data.message):E("M\u1ed9t l\u1ed7i \u0111\xe3 x\u1ea3y ra."),console.error("OTP verification error:",a.response.data)}}},"G\u1eedi")))))))},se=t(30);t(84);var oe=()=>{const e=Object(s.p)();return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"menu-edit"},c.a.createElement("div",{className:"align-items-center menu-left"},c.a.createElement("span",{className:"menu-item logo-container"},c.a.createElement("img",{className:"logo",src:i.a,alt:"logo"})),c.a.createElement("span",{className:"menu-item",onClick:()=>{E.a.remove("accessToken"),E.a.remove("refreshToken"),window.location.reload(e("/home"))}},c.a.createElement(se.a,null),c.a.createElement("p",null,"\u0110\u0103ng Xu\u1ea5t")),c.a.createElement("span",{className:"menu-item"},c.a.createElement(u.b,{to:"/history"},c.a.createElement("h4",null,"\u0110\u01a1n H\xe0ng \u0110\xe3 \u0110\u1eb7t"))),c.a.createElement("span",{className:"menu-item"},c.a.createElement(u.b,{to:"/edit-profile"},c.a.createElement("h4",null,"Chi Ti\u1ebft T\xe0i Kho\u1ea3n"))),c.a.createElement("span",{className:"menu-item"},c.a.createElement(u.b,{to:"/change-password"},c.a.createElement("h4",null,"\u0110\u1eb7t L\u1ea1i M\u1eadt Kh\u1ea9u"))))))};var me=()=>{const[e,a]=Object(n.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),[t,r]=Object(n.useState)({currentPassword:!1,newPassword:!1,confirmPassword:!1}),l=E.a.get("accessToken"),s=E.a.get("refreshToken"),o=t=>{a({...e,[t.target.id]:t.target.value}),"newPassword"===t.target.id&&t.target.value===e.currentPassword&&alert("M\u1eadt kh\u1ea9u m\u1edbi ph\u1ea3i kh\xe1c m\u1eadt kh\u1ea9u hi\u1ec7n t\u1ea1i.")},m=e=>{r(a=>({...a,[e]:!a[e]}))};return c.a.createElement("div",{className:"login-row"},c.a.createElement(y.a,{className:"w-100"},c.a.createElement(w.a,{lg:"4",className:"mx-auto d-flex"},c.a.createElement(oe,null)),c.a.createElement(w.a,null,c.a.createElement("div",{className:"login-container"},c.a.createElement("div",{className:"login-form"},c.a.createElement("h2",null,"\u0110\u1eb6T L\u1ea0I M\u1eacT KH\u1ea8U"),c.a.createElement(Q.a,null,c.a.createElement(J.a,{className:"login__input"},c.a.createElement("input",{type:t.currentPassword?"text":"password",id:"currentPassword",name:"password",value:e.currentPassword,onChange:o,required:!0}),c.a.createElement($.a,{className:"input__place",for:"password"},"M\u1eadt kh\u1ea9u hi\u1ec7n t\u1ea1i ",c.a.createElement("span",null,"*")),c.a.createElement("span",{className:"d-flex show-password",onClick:()=>m("currentPassword")},t.currentPassword?c.a.createElement(ce.b,null):c.a.createElement(ce.a,null))),c.a.createElement(J.a,{className:"login__input"},c.a.createElement("input",{type:t.newPassword?"text":"password",id:"newPassword",name:"password",value:e.newPassword,onChange:o,required:!0}),c.a.createElement($.a,{className:"input__place",for:"password"},"M\u1eadt kh\u1ea9u m\u1edbi ",c.a.createElement("span",null,"*")),c.a.createElement("span",{className:"d-flex show-password",onClick:()=>m("newPassword")},t.newPassword?c.a.createElement(ce.b,null):c.a.createElement(ce.a,null))),c.a.createElement(J.a,{className:"login__input"},c.a.createElement("input",{type:t.confirmPassword?"text":"password",id:"confirmPassword",name:"password",value:e.confirmPassword,onChange:o,required:!0}),c.a.createElement($.a,{className:"input__place",for:"password"},"X\xe1c nh\u1eadn M\u1eadt kh\u1ea9u ",c.a.createElement("span",null,"*")),c.a.createElement("span",{className:"d-flex show-password",onClick:()=>m("confirmPassword")},t.confirmPassword?c.a.createElement(ce.b,null):c.a.createElement(ce.a,null))),c.a.createElement(U.a,{className:"button__register",onClick:async t=>{if(t.preventDefault(),e.newPassword===e.confirmPassword)try{await d.a.put("".concat(h,"/auth/change-password"),e,{headers:{Authorization:"Bearer ".concat(l),"refresh-token":s}}),alert("M\u1eadt kh\u1ea9u \u0111\xe3 \u0111\u01b0\u1ee3c thay \u0111\u1ed5i."),a({currentPassword:"",newPassword:"",confirmPassword:""})}catch(n){console.log(n),alert("C\xf3 l\u1ed7i x\u1ea3y ra. Vui l\xf2ng th\u1eed l\u1ea1i.")}else alert("M\u1eadt kh\u1ea9u x\xe1c nh\u1eadn kh\xf4ng kh\u1edbp.")}},"\u0110\u1ed5i m\u1eadt kh\u1ea9u")))))))},ie=t(107),ue=t(103),de=t(104),pe=t(105);var Ee=()=>{const e=Object(s.p)(),a=E.a.get("accessToken"),t=E.a.get("refreshToken"),[r,l]=Object(n.useState)(!1),[o,m]=Object(n.useState)(!1),[i,u]=Object(n.useState)({userName:"",fullName:"",phone:"",email:""}),p=e=>{u(a=>({...a,[e.target.id]:e.target.value})),l(!0)};Object(n.useEffect)(()=>{(async()=>{try{const e=(await d.a.get("".concat(h,"/user/get-info-user"),{headers:{Authorization:"Bearer ".concat(a),"refresh-token":t}})).data.user;u({userName:e.userName||"",fullName:e.fullName||"",email:e.email||"",phone:e.phone||""})}catch(e){console.log(e)}})()},[]);const g=()=>{m(!o)};return c.a.createElement("div",{className:"login-row"},c.a.createElement(y.a,{className:"w-100"},c.a.createElement(w.a,{lg:"4",className:"mx-auto d-flex"},c.a.createElement(oe,null)),c.a.createElement(w.a,null,c.a.createElement("div",{className:"login-container"},c.a.createElement("div",{className:"login-form"},c.a.createElement("h2",null,"CHI TI\u1ebeT T\xc0I KHO\u1ea2N"),c.a.createElement(Q.a,{onSubmit:async n=>{n.preventDefault();try{if(await d.a.put("".concat(h,"/auth/update-profile"),i,{headers:{Authorization:"Bearer ".concat(a),"refresh-token":t}}),!r)return void g();alert("Th\xf4ng tin \u0111\xe3 \u0111\u01b0\u1ee3c c\u1eadp nh\u1eadt th\xe0nh c\xf4ng."),setTimeout(()=>{window.location.reload(e("/"))},500)}catch(c){console.log(c),alert("C\xf3 l\u1ed7i x\u1ea3y ra. Vui l\xf2ng th\u1eed l\u1ea1i.")}}},c.a.createElement(J.a,{className:"login__input"},c.a.createElement("input",{type:"text",id:"userName",name:"userName",value:i.userName,onChange:p,required:!0}),c.a.createElement($.a,{className:"input__place",for:"userName"},"T\xean t\xe0i kho\u1ea3n ",c.a.createElement("span",null,"*"))),c.a.createElement(J.a,{className:"login__input"},c.a.createElement("input",{type:"text",id:"fullName",name:"fullName",value:i.fullName,onChange:p,required:!0}),c.a.createElement($.a,{className:"input__place",for:"fullName"},"H\u1ecd v\xe0 t\xean c\u1ee7a b\u1ea1n ",c.a.createElement("span",null,"*"))),c.a.createElement(J.a,{className:"login__input"},c.a.createElement("input",{type:"phone",id:"phone",name:"phone",value:i.phone,onChange:p,required:!0}),c.a.createElement($.a,{className:"input__place",for:"phone"},"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i ",c.a.createElement("span",null,"*"))),c.a.createElement(J.a,{className:"login__input"},c.a.createElement("input",{type:"email",id:"email",name:"email",value:i.email,onChange:p,required:!0,disabled:!0,className:"disabled-input"}),c.a.createElement($.a,{className:"input__place-email",for:"email"},"\u0110\u1ecba ch\u1ec9 email c\u1ee7a b\u1ea1n ",c.a.createElement("span",null,"*"))),c.a.createElement(U.a,{className:"button__register",type:"submit"},"C\u1eadp nh\u1eadt t\xe0i kho\u1ea3n")))))),c.a.createElement(ie.a,{isOpen:o,toggle:g},c.a.createElement(ue.a,{toggle:g},"X\xe1c nh\u1eadn"),c.a.createElement(de.a,null,"Hi\u1ec7n kh\xf4ng c\xf3 th\xf4ng tin n\xe0o thay \u0111\u1ed5i, qu\xfd kh\xe1ch c\xf3 \u0111\u1ed3ng \xfd v\u1eabn l\u01b0u th\xf4ng tin n\xe0y kh\xf4ng?"),c.a.createElement(pe.a,null,c.a.createElement(U.a,{color:"danger",onClick:()=>{g(),l(!0),alert("Th\xf4ng tin \u0111\xe3 \u0111\u01b0\u1ee3c c\u1eadp nh\u1eadt th\xe0nh c\xf4ng."),setTimeout(()=>{e("/"),window.location.reload()},500)}},"C\xf3")," ",c.a.createElement(U.a,{color:"secondary",onClick:()=>{g()}},"Kh\xf4ng"))))};var he=()=>{const[e,a]=Object(n.useState)({password:"",confirmPassword:""}),t=Object(s.p)(),[r,l]=Object(n.useState)({password:!1,confirmPassword:!1}),o=Object(s.r)().resetToken,m=e=>{a(a=>({...a,[e.target.id]:e.target.value}))},i=e=>{l(a=>({...a,[e]:!a[e]}))};return c.a.createElement("div",{className:"login-row"},c.a.createElement(y.a,null,c.a.createElement("div",{className:"login-container"},c.a.createElement("div",{className:"mx-auto reset__password-form"},c.a.createElement("h2",null,"C\u1eacP NH\u1eacT M\u1eacT KH\u1ea8U C\u1ee6A B\u1ea0N"),c.a.createElement("p",null,"\u0110\u1eebng lo l\u1eafng, b\u1ea1n c\xf3 th\u1ec3 \u0111\u1eb7t l\u1ea1i d\u1ec5 d\xe0ng."),c.a.createElement(Q.a,null,c.a.createElement(J.a,{className:"login__input"},c.a.createElement("input",{type:r?"text":"password",id:"password",name:"password",value:e.password,onChange:m,required:!0}),c.a.createElement($.a,{className:"input__place",for:"password"},"M\u1eadt kh\u1ea9u ",c.a.createElement("span",null,"*")),c.a.createElement("span",{className:"d-flex show-password",onClick:()=>i("password")},r.password?c.a.createElement(ce.b,null):c.a.createElement(ce.a,null))),c.a.createElement(J.a,{className:"login__input"},c.a.createElement("input",{type:r?"text":"password",id:"confirmPassword",name:"confirmPassword",value:e.confirmPassword,onChange:m,required:!0}),c.a.createElement($.a,{className:"input__place",for:"password"}," X\xe1c nh\u1eadn M\u1eadt kh\u1ea9u ",c.a.createElement("span",null,"*")),c.a.createElement("span",{className:"d-flex show-password",onClick:()=>i("confirmPassword")},r.confirmPassword?c.a.createElement(ce.b,null):c.a.createElement(ce.a,null))),c.a.createElement(U.a,{className:"button__register",onClick:async n=>{if(n.preventDefault(),e.password!==e.confirmPassword)return alert("M\u1eadt kh\u1ea9u x\xe1c nh\u1eadn kh\xf4ng kh\u1edbp."),void setTimeout(()=>{},2e3);try{await d.a.patch("".concat(h,"/auth/reset-password/").concat(o),{password:e.password},{headers:{Authorization:"Bearer ".concat(o)}}),alert("M\u1eadt kh\u1ea9u \u0111\xe3 \u0111\u01b0\u1ee3c thay \u0111\u1ed5i."),setTimeout(()=>{},2e3),a(e=>({...e,password:"",confirmPassword:""})),window.location.reload(t("/login"))}catch(c){400===c.status?console.log(c):alert("M\u1ed9t l\u1ed7i \u0111\xe3 x\u1ea3y ra.")}}},"\u0110\u1ed5i m\u1eadt kh\u1ea9u"))))))},ge=t(44),Ne=t.n(ge);var _e=()=>{const e=Object(s.n)(),a=Object(s.p)(),[t,r]=Object(n.useState)(5);return Object(n.useEffect)(()=>{(async()=>{try{await d.a.get("".concat(h,"/checkout/confirm-checkout").concat(e.search))}catch(a){console.error("Error confirming checkout:",a.message)}})()},[e.search]),Object(n.useEffect)(()=>{const e=t>0&&setInterval(()=>r(t-1),1e3);return 0===t&&(a("/"),window.scrollTo({top:0,behavior:"smooth"})),()=>clearInterval(e)},[t,a]),c.a.createElement("div",{className:"success-form"},c.a.createElement("img",{src:Ne.a,alt:""}),c.a.createElement("h2",null,"\u0110\u1eb7t m\xf3n th\xe0nh c\xf4ng!"),c.a.createElement("h6",null,"M\xf3n \u0103n s\u1ebd \u0111\u01b0\u1ee3c chu\u1ea9n b\u1ecb v\xe0 giao \u0111\u1ebfn b\u1ea1n nhanh nh\u1ea5t c\xf3 th\u1ec3. H\xe3y ch\u1edd \u0111\u1ee3i nh\xe9!"),c.a.createElement("h6",null,"\u0110ang chuy\u1ec3n h\u01b0\u1edbng v\u1ec1 trang ch\u1ee7 trong ",t," gi\xe2y..."))};t(85);var be=()=>{const[e,a]=Object(n.useState)([]),[t,r]=Object(n.useState)({});Object(n.useEffect)(()=>{(async()=>{try{const e=E.a.get("accessToken"),t=E.a.get("refreshToken"),n=await d.a.get("".concat(h,"/order/get-history"),{headers:{Authorization:"Bearer ".concat(e),"refresh-token":t}});a(n.data.orders);const c={};await Promise.all(n.data.orders.map(async e=>{await Promise.all(e.products.map(async e=>{if(!c[e.productId]){const a=await d.a.get("".concat(h,"/product/get-product/").concat(e.productId));c[e.productId]=a.data.product.productName}}))})),r(c)}catch(e){console.error("Error fetching transactions:",e)}})()},[]);return c.a.createElement("div",{className:"login-row"},c.a.createElement(y.a,{className:"w-100"},c.a.createElement(w.a,{md:"4",className:"mx-auto d-flex"},c.a.createElement(oe,null)),c.a.createElement(w.a,{md:"8",className:"purchase-list__item mx-auto"},c.a.createElement("h2",{className:"purchase-list__title"},"\u0110ang giao d\u1ecbch (",e.length,")"),e&&0===e.length?c.a.createElement("div",{className:"purchase-list__empty"},c.a.createElement("br",null),c.a.createElement("p",null,"Kh\xf4ng c\xf3 giao d\u1ecbch n\xe0o")):c.a.createElement(c.a.Fragment,null,e.map(e=>c.a.createElement(y.a,{key:e._id,className:"mb-4 purchase-list-card"},c.a.createElement(w.a,{md:"12"},c.a.createElement("div",{className:"purchase__list-name"},c.a.createElement("div",{className:"purchase__booking-id"},"M\xe3 \u0111\u1eb7t m\xf3n Tasty Treat | ",c.a.createElement("span",null,e._id)),c.a.createElement("div",{className:"purchase__product"},c.a.createElement("div",{className:"selected-transaction-details"},c.a.createElement("ul",null,e.products.map(e=>c.a.createElement("li",{key:e._id},t[e.productId]," | S\u1ed1 l\u01b0\u1ee3ng: ",e.quantity))))),c.a.createElement("div",{className:"purchase__tourName"},c.a.createElement("i",{className:"ri-map-pin-2-fill"}),"\u0110\u1ecba ch\u1ec9 giao h\xe0ng: ",c.a.createElement("span",null,e.address)),c.a.createElement("div",{className:"purchase__payment-status"},c.a.createElement("p",{style:{backgroundColor:"FAILED"===e.payment.status?"#E4002B":"#696969"}},"Tr\u1ea1ng th\xe1i thanh to\xe1n: ",(e=>{switch(e){case"FAILED":return"H\u1ee7y \u0111\u01a1n";case"PENDING":return"\u0110ang ch\u1edd";case"SUCCESS":return"Th\xe0nh c\xf4ng";default:return e}})(e.payment.status)),c.a.createElement("p",null,"Ph\u01b0\u01a1ng th\u1ee9c thanh to\xe1n: ","CASH"===e.paymentMethod?"Ti\u1ec1n m\u1eb7t":"VNPAY")),c.a.createElement("div",{className:"purchase-right-content"},c.a.createElement("div",{className:"purchase__totalAmount"},e.totalAmount.toLocaleString()," VND"),"PENDING"===e.payment.status&&"ONLINE"===e.paymentMethod&&c.a.createElement(u.b,{to:"#",onClick:()=>(async e=>{try{const a=await d.a.post("".concat(h,"/checkout/create-checkout/").concat(e));a.data&&a.data.data&&(window.location.href=a.data.data)}catch(a){console.error("Error initiating checkout:",a)}})(e._id)},c.a.createElement("p",{className:"purchase-details"},"Thanh to\xe1n")))))))))))};var fe=()=>{const e=Object(x.b)(),[a,t]=Object(n.useState)([]),[r,l]=Object(n.useState)(!0),[s,o]=Object(n.useState)(""),m=window.location.pathname.split("/"),i=m[m.length-1];Object(n.useEffect)(()=>{(async()=>{try{const e=await d.a.get("".concat(h,"/product/get-product-by-category/").concat(i));t(e.data.products),l(!1)}catch(s){o(s.message),console.error("Error fetching category:",s)}})()},[i]);const p=new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}),g=!!sessionStorage.getItem("savedAddresses"),N=g?"addTOCART__btn":"addTOCART__btn disabled",_=g?{}:{cursor:"not-allowed"};return c.a.createElement("div",{className:"category-page"},c.a.createElement("h4",null,"M\xf3n \u0103n b\u1ea1n \u0111ang t\xecm ki\u1ebfm:"),c.a.createElement("br",null),r&&c.a.createElement("div",{className:"text-center pt-5"},c.a.createElement("div",{className:"spinner-border",role:"status"},c.a.createElement("span",{className:"sr-only"}))),s&&c.a.createElement("h4",{className:"text-center pt-5"},s),!r&&!s&&c.a.createElement(y.a,null,a.length>0?a.map(a=>c.a.createElement(w.a,{key:a._id,sm:"12",md:"6",lg:"3"},c.a.createElement("div",{className:"product-card__page"},c.a.createElement("div",{className:"product__item d-flex flex-column justify-content-between"},c.a.createElement("div",{className:"product__content"},c.a.createElement(u.b,{to:"/pizzas/".concat(a._id)},c.a.createElement("img",{className:"product__img w-50",src:a.imagePath,alt:a.productName})),c.a.createElement("h5",null,c.a.createElement(u.b,{to:"/pizzas/".concat(a._id)},a.productName))),c.a.createElement("div",{className:"product__description"},c.a.createElement("span",null,a.productSubtitles)),c.a.createElement("div",{className:"d-flex flex-column align-items-center justify-content-between"},c.a.createElement("span",{className:"product__price mb-2"},p.format(a.price)),c.a.createElement("button",{className:N,style:_,onClick:()=>g?(async a=>{const{_id:t,productName:n,price:c,imagePath:r}=a,l=E.a.get("accessToken");if(l)try{await d.a.post("".concat(h,"/cart/add-to-cart"),{productId:t,quantity:1},{headers:{Authorization:"Bearer ".concat(l)}}),window.location.reload()}catch(s){o(s.message)}else e(H.addItem({_id:t,productName:n,imagePath:r,price:c})),window.location.reload(),window.scrollTo({top:0,behavior:"smooth"})})(a):alert("Vui l\xf2ng cung c\u1ea5p \u0111\u1ecba ch\u1ec9 giao h\xe0ng! C\u1ea3m \u01a1n qu\xfd kh\xe1ch!")},"Th\xeam")))))):c.a.createElement("div",{className:"text-center w-100"},"Kh\xf4ng c\xf3 s\u1ea3n ph\u1ea9m n\xe0o")))};var ye=()=>{const e=Object(s.p)();return Object(n.useEffect)(()=>{(async()=>{const a=new URLSearchParams(window.location.search),t=a.get("accessToken"),n=a.get("refreshToken");E.a.set("accessToken",t,{expires:7,path:"/"}),E.a.set("refreshToken",n,{expires:7,path:"/"}),e("/home")})()},[e]),c.a.createElement("div",null,"Logging in...")};var we=()=>c.a.createElement(s.d,null,c.a.createElement(s.b,{path:"/",element:c.a.createElement(s.a,{to:"/home"})}),c.a.createElement(s.b,{path:"/home",element:c.a.createElement(B,null)}),c.a.createElement(s.b,{path:"/pizzas",element:c.a.createElement(D,null)}),c.a.createElement(s.b,{path:"/cart",element:c.a.createElement(R,null)}),c.a.createElement(s.b,{path:"/order",element:c.a.createElement(Z,null)}),c.a.createElement(s.b,{path:"/pizzas/:_id",element:c.a.createElement(G,null)}),c.a.createElement(s.b,{path:"/login",element:c.a.createElement(re,null)}),c.a.createElement(s.b,{path:"/register",element:c.a.createElement(le,null)}),c.a.createElement(s.b,{path:"/change-password",element:c.a.createElement(me,null)}),c.a.createElement(s.b,{path:"/edit-profile",element:c.a.createElement(Ee,null)}),c.a.createElement(s.b,{path:"/reset-password/:resetToken",element:c.a.createElement(he,null)}),c.a.createElement(s.b,{path:"/thank-you",element:c.a.createElement(_e,null)}),c.a.createElement(s.b,{path:"/category/:categoryId",element:c.a.createElement(fe,null)}),c.a.createElement(s.b,{path:"/history",element:c.a.createElement(be,null)}),c.a.createElement(s.b,{path:"/success",element:c.a.createElement(ye,null)}));t(86);var ve=()=>{const[e,a]=Object(n.useState)({address:""}),[t,r]=Object(n.useState)(!1),[l,s]=Object(n.useState)([]),[o,m]=Object(n.useState)(!1);Object(n.useEffect)(()=>{const e=sessionStorage.getItem("savedAddresses");if(e){const a=JSON.parse(e);s(a),a.length>0&&m(!0)}},[]);const i=()=>{r(!t)};return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"align-items-center booking-header"},o?c.a.createElement(c.a.Fragment,null,c.a.createElement("i",{className:"ri-map-pin-2-fill"}),c.a.createElement("h4",null,"\u0110\u01b0\u1ee3c giao t\u1eeb: Tasty Treat Tr\u1ea7n Thi\u1ec7n Ch\xe1nh"),c.a.createElement("i",{className:"ri-time-fill"}),c.a.createElement("h5",null,"Giao Ngay"),c.a.createElement(U.a,{className:"button-booking__change",onClick:()=>{r(!0)}},"Thay \u0111\u1ed5i")):c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",null,"\u0110\u1eb7t Ngay"),c.a.createElement("span",null,c.a.createElement(se.b,null)),c.a.createElement("h4",null,"Giao H\xe0ng"),c.a.createElement("i",{className:"ri-gift-line"}),c.a.createElement("h4",null,"Ho\u1eb7c mang \u0111i"),c.a.createElement(U.a,{className:"button-booking__header",onClick:i},"B\u1eaft \u0111\u1ea7u \u0111\u1eb7t h\xe0ng"))),t&&c.a.createElement("div",{className:"overlay",style:{bottom:t?0:"-100%"}},c.a.createElement("div",{className:"forgot-password__form"},c.a.createElement("div",{className:"close-btn",onClick:i},c.a.createElement("span",{"aria-hidden":"true"},"\xd7")),c.a.createElement("h4",null,"CH\u1eccN \u0110\u1ecaA CH\u1ec8 \u0110\xc3 L\u01afU"),c.a.createElement("p",null,"Cho ch\xfang t\xf4i bi\u1ebft v\u1ecb tr\xed hi\u1ec7n t\u1ea1i c\u1ee7a b\u1ea1n."),c.a.createElement("div",{className:"address-selection"},l.map((e,a)=>c.a.createElement("div",{key:a,className:"d-flex align-items-center justify-content-center address__item"},c.a.createElement("p",{className:"address-session"},c.a.createElement("i",{className:"ri-map-pin-line"})," ",e)))),c.a.createElement(Q.a,null,c.a.createElement(J.a,{className:"login__input"},c.a.createElement("input",{type:"text",id:"address",name:"address",value:e.address,onChange:t=>{a({...e,[t.target.id]:t.target.value})},required:!0}),c.a.createElement($.a,{className:"input__place",htmlFor:"address"},"Nh\u1eadp \u0111\u1ecba ch\u1ec9 c\u1ee7a b\u1ea1n ho\u1eb7c n\u01a1i g\u1ea7n b\u1ea1n *"))),c.a.createElement(U.a,{className:"button__forgot",onClick:async()=>{const t=e.address;if(t)try{const e=encodeURIComponent(t).trim(),n="".concat(h,"/address/get-coordinates?q=").concat(e),c=(await d.a.get(n)).data;if(!c.coordinates)return void alert("No coordinates found for the given address");const l="".concat(c.address);a({address:l}),sessionStorage.setItem("shippingFee",c.shippingFee||0),sessionStorage.setItem("nearestShopId",c.nearestShopId||0),sessionStorage.removeItem("savedAddresses");const o=[l];s(o),sessionStorage.setItem("savedAddresses",JSON.stringify(o)),m(!0),r(!1),window.location.reload()}catch(n){console.error("Error fetching coordinates:",n.message),alert("Failed to fetch coordinates")}else alert("Please enter an address.")}},"X\xe1c nh\u1eadn \u0111\u1ecba ch\u1ec9 c\u1ee7a t\xf4i ",c.a.createElement("i",{className:"ri-arrow-right-s-line"})))))};t(87);var ke=e=>{let{item:a,onClose:t}=e;const{_id:n,productName:r,price:l,imagePath:o,quantity:m,extraIngredients:i}=a;let u=Object(s.p)();const d=Object(x.b)(),p=new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"});return c.a.createElement(Y.a,{className:"border-0 cart__item",onClick:()=>{u("/pizzas/".concat(n)),t()}},c.a.createElement("div",{className:"cart__item-info d-flex gap-4"},c.a.createElement("img",{src:o,alt:"product-img"}),c.a.createElement("div",{className:"cart__product-info w-100 d-flex align-items-center gap-4 justify-content-between"},c.a.createElement("div",null,c.a.createElement("h6",{className:"cart__product-title"},r),c.a.createElement("p",{className:"d-flex align-items-center gap-5 cart__product-price"},m,"x ",c.a.createElement("span",null,p.format(l))),c.a.createElement("div",{className:"d-flex flex-column"},void 0!==i&&i.map((e,a)=>c.a.createElement("span",{key:a,className:"m-0"},e))),c.a.createElement("div",{className:"d-flex align-items-center justify-content-between increase__decrease-btn"},c.a.createElement("span",{className:"increase__btn",onClick:e=>(e=>{d(H.addItem({_id:n,productName:r,price:l,imagePath:o,quantity:m})),e.stopPropagation()})(e)},c.a.createElement("i",{className:"ri-add-line"})),c.a.createElement("span",{className:"quantity"},m),c.a.createElement("span",{className:"decrease__btn",onClick:e=>(e=>{d(H.removeItem(n)),e.stopPropagation()})(e)},c.a.createElement("i",{className:"ri-subtract-line"})))),c.a.createElement("span",{className:"delete__btn",onClick:e=>(e=>{d(H.deleteItem(n)),e.stopPropagation()})(e)},c.a.createElement("i",{className:"ri-close-line"})))))};const Te=Object(j.b)({name:"cartUi",initialState:{cartIsVisible:!1},reducers:{toggle(e){e.cartIsVisible=!e.cartIsVisible}}}),Ce=Te.actions;var Ie=Te;t(88);var Oe=()=>{const e=Object(x.b)(),a=Object(x.c)(e=>e.cart.cartItems),t=Object(x.c)(e=>e.cart.totalAmount),n=()=>{e(Ce.toggle()),window.scrollTo({top:0,behavior:"smooth"})},r=new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"});return c.a.createElement("div",{className:"cart__container",onClick:n},c.a.createElement(_.a,{onClick:e=>e.stopPropagation(),className:"cart"},c.a.createElement("div",{className:"cart__closeButton"},c.a.createElement("span",{onClick:n},c.a.createElement("i",{className:"ri-close-fill"}))),c.a.createElement("div",{className:"cart__item-list"},0===a.length?c.a.createElement("h6",{className:"text-center"},"GI\u1ece H\xc0NG C\u1ee6A B\u1ea0N \u0110ANG TR\u1ed0NG."):a.map((e,a)=>c.a.createElement(ke,{item:e,key:a,onClose:n}))),c.a.createElement("div",{className:"cart__bottom d-flex align-items-center justify-content-between"},c.a.createElement("h6",null,"T\u1ed5ng ti\u1ec1n : ",c.a.createElement("span",null,r.format(t))),c.a.createElement("button",null,c.a.createElement(u.b,{to:"/cart",onClick:n},"Ti\u1ebfp t\u1ee5c")))))};var Se=()=>{const e=Object(x.c)(e=>e.cartUi.cartIsVisible);return c.a.createElement(c.a.Fragment,null,c.a.createElement(N,null),c.a.createElement(ve,null),c.a.createElement("div",{className:"d-flex flex-column vh-100 justify-content-between"},e&&c.a.createElement(Oe,null),c.a.createElement("div",null,c.a.createElement(we,null)),c.a.createElement(b,null)))};var xe=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(s.d,null,c.a.createElement(s.b,{path:"/*",element:c.a.createElement(Se,null)})))},je=(t(89),t(90),t(91),t(45)),Pe=t.n(je),Ae=t(24);var qe=Object(j.a)({reducer:{cart:M.reducer,cartUi:Ie.reducer,middleware:[Ae.a,Pe.a]}});l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(u.a,null,c.a.createElement(x.a,{store:qe},c.a.createElement(xe,null)))),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.e1f4cafc.chunk.js.map